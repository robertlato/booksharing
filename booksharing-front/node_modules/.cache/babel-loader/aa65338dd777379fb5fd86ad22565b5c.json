{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/robert/Projects/Booksharing/booksharing-front/src/Components/Authenticate/Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { loginUser } from '../../actions/auth';\nimport { setAlert, clearAlerts, deleteAlert } from '../../actions/alert';\nimport { Link } from 'react-router-dom';\n\nconst Login = ({\n  alert,\n  loginUser,\n  setAlert,\n  clearAlerts,\n  deleteAlert\n}) => {\n  _s();\n\n  const [formData, setFormData] = useState({\n    login: '',\n    password: ''\n  });\n\n  const onChange = e => {\n    setFormData({ ...formData,\n      [e.target.name]: e.target.value\n    });\n    let alertIndex = -1;\n    alert.filter((item, index) => {\n      if (item.param === e.target.name) alertIndex = index;\n    });\n    if (alertIndex > -1) deleteAlert(alertIndex);\n  };\n\n  const onSumbit = e => {\n    e.preventDefault();\n    clearAlerts();\n    const {\n      login,\n      password\n    } = formData;\n\n    if (!login || !password) {\n      if (!login) setAlert({\n        msg: 'Wprowadź login!',\n        param: 'login'\n      });\n      if (!password) setAlert({\n        msg: 'Wprowadź hasło!',\n        param: 'password'\n      });\n      return;\n    }\n\n    loginUser({\n      login,\n      password\n    });\n  };\n\n  const loginAlert = alert.filter(item => item.param === 'login');\n  const passwordAlert = alert.filter(item => item.param === 'password');\n  const dataAlert = alert.filter(item => item.param === 'data');\n  useEffect(() => {\n    return () => {\n      clearAlerts();\n      window.scrollTo(0, 0);\n    };\n  }, [clearAlerts]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Logowanie\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: [\"Nie masz konta? \", /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/auth/register\",\n        children: \"Zarejestruj si\\u0119\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 33\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: e => onSumbit(e),\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"login\",\n          className: loginAlert.length > 0 ? 'failed' : '',\n          onChange: e => onChange(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }, this), loginAlert.length > 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"input-warning\",\n          children: loginAlert[0].msg\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 47\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Has\\u0142o\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          name: \"password\",\n          className: passwordAlert.length > 0 ? 'failed' : '',\n          onChange: e => onChange(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 21\n        }, this), passwordAlert.length > 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"input-warning\",\n          children: passwordAlert[0].msg\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 50\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        children: \"Zaloguj si\\u0119\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }, this), dataAlert.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bad-login\",\n        children: dataAlert[0].msg\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 42\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Login, \"MPv/0/WXckIvbM4OSnvfPko44HQ=\");\n\n_c = Login;\nLogin.propTypes = {\n  loginUser: PropTypes.func.isRequired,\n  setAlert: PropTypes.func.isRequired,\n  clearAlerts: PropTypes.func.isRequired,\n  deleteAlert: PropTypes.func.isRequired,\n  alert: PropTypes.array.isRequired\n};\n\nconst mapStateToProps = state => ({\n  alert: state.alert\n});\n\nexport default connect(mapStateToProps, {\n  loginUser,\n  setAlert,\n  clearAlerts,\n  deleteAlert\n})(Login);\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/home/robert/Projects/Booksharing/booksharing-front/src/Components/Authenticate/Login.js"],"names":["React","useState","useEffect","PropTypes","connect","loginUser","setAlert","clearAlerts","deleteAlert","Link","Login","alert","formData","setFormData","login","password","onChange","e","target","name","value","alertIndex","filter","item","index","param","onSumbit","preventDefault","msg","loginAlert","passwordAlert","dataAlert","window","scrollTo","length","propTypes","func","isRequired","array","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { loginUser } from '../../actions/auth';\nimport { setAlert, clearAlerts, deleteAlert } from '../../actions/alert';\nimport { Link } from 'react-router-dom';\n\nconst Login = ({ alert, loginUser, setAlert, clearAlerts, deleteAlert }) => {\n    const [formData, setFormData] = useState({\n        login: '',\n        password: ''\n    });\n\n    const onChange = e => {\n        setFormData({\n            ...formData,\n            [e.target.name]: e.target.value\n        });\n        let alertIndex = -1;\n        alert.filter((item, index) => {\n            if (item.param === e.target.name) alertIndex = index;\n        });\n        if (alertIndex > -1) deleteAlert(alertIndex);\n    }\n\n    const onSumbit = e => {\n        e.preventDefault();\n        clearAlerts();\n        const { login, password } = formData;\n        if (!login || !password) {\n            if (!login) setAlert({ msg: 'Wprowadź login!', param: 'login' })\n            if (!password) setAlert({ msg: 'Wprowadź hasło!', param: 'password' })\n            return;\n        }\n        loginUser({ login, password });\n    }\n\n    const loginAlert = alert.filter(item => item.param === 'login');\n    const passwordAlert = alert.filter(item => item.param === 'password');\n    const dataAlert = alert.filter(item => item.param === 'data');\n\n    useEffect(() => {\n        return () => {\n            clearAlerts();\n            window.scrollTo(0, 0);\n        }\n    }, [clearAlerts]);\n\n    return (\n        <>\n            <h1>Logowanie</h1>\n            <h2>Nie masz konta? <Link to=\"/auth/register\">Zarejestruj się</Link></h2>\n            <form onSubmit={e => onSumbit(e)}>\n                <label>\n                    <p>Login</p>\n                    <input type=\"text\" name=\"login\" className={loginAlert.length > 0 ? 'failed' : ''} onChange={e => onChange(e)} />\n                    {loginAlert.length > 0 && <p className=\"input-warning\">{loginAlert[0].msg}</p>}\n                </label>\n                <label>\n                    <p>Hasło</p>\n                    <input type=\"password\" name=\"password\" className={passwordAlert.length > 0 ? 'failed' : ''} onChange={e => onChange(e)} />\n                    {passwordAlert.length > 0 && <p className=\"input-warning\">{passwordAlert[0].msg}</p>}\n                </label>\n                <button>Zaloguj się</button>\n                {dataAlert.length > 0 && <div className=\"bad-login\">{dataAlert[0].msg}</div>}\n            </form>\n        </>\n    );\n}\n\nLogin.propTypes = {\n    loginUser: PropTypes.func.isRequired,\n    setAlert: PropTypes.func.isRequired,\n    clearAlerts: PropTypes.func.isRequired,\n    deleteAlert: PropTypes.func.isRequired,\n    alert: PropTypes.array.isRequired,\n}\n\nconst mapStateToProps = state => ({\n    alert: state.alert\n});\n\nexport default connect(mapStateToProps, { loginUser, setAlert, clearAlerts, deleteAlert })(Login);\n"]},"metadata":{},"sourceType":"module"}